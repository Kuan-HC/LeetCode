# 50 Pow(x, n)

實現 pow(x, n) ，即計算 x 的整數 n 次冪函數（即，x<sup>n</sup> ）。

##  Best Time to Buy and Sell Stock IV

You are given an integer array prices where prices[i] is the price of a given stock on the ith day, and an integer k.

Find the maximum profit you can achieve. You may complete at most k transactions.

Note: You may not engage in multiple transactions simultaneously (i.e., you must sell the stock before you buy again).

[LeetCode](https://leetcode.cn/problems/flatten-nested-list-iterator/)


### Example 1

```
Input: x = 2.00000, n = 10
Output: 1024.00000
```

### Example 2

```
Input: x = 2.00000, n = -2
Output: 0.25000
Explanation: 2-2 = 1/22 = 1/4 = 0.25
```

### Constraints

* -100.0 < x < 100.0
-2<sup>31</sup> <= n <= 2<sup>31</sup>-1
n is an integer.
-10<sup>4</sup> <= x<sup>n</sup> <= 10<sup>4</sup>


### C++ 
```
class Solution {
protected:
    double mul(double x, long n){
        if(n == 1)
            return x;

        double temp = mul(x, n / 2);
        if( n & 1 == 1)
            return temp * temp * x;
        else 
            return temp * temp;
    }
public:
    double myPow(double x, int n) {
        if(n == 0 || abs(x - 1.0) < 0.0000001)
            return 1.0;
        /*
            規律
            1 -> 2 -> 4 -> 8 -> 16 
            使時間複雜度 為log(n)
        */
        long times = static_cast<long>(n);

        return n > 0? mul(x,times) : 1 / mul(x,-times);
    }
};
```
