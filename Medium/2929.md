# 2929 Distribute Candies Among Children II

You are given two positive integers n and limit.

Return the total number of ways to distribute n candies among 3 children such that no child gets more than limit candies.

[LeetCode](https://leetcode.cn/problems/successful-pairs-of-spells-and-potions/description/)

### Example 1

```
Input: n = 5, limit = 2
Output: 3
Explanation: There are 3 ways to distribute 5 candies such that no child gets more than 2 candies: (1, 2, 2), (2, 1, 2) and (2, 2, 1).
```

### Example 2

```
Input: n = 3, limit = 3
Output: 10
Explanation: There are 10 ways to distribute 3 candies such that no child gets more than 3 candies: (0, 0, 3), (0, 1, 2), (0, 2, 1), (0, 3, 0), (1, 0, 2), (1, 1, 1), (1, 2, 0), (2, 0, 1), (2, 1, 0) and (3, 0, 0).
```

### Constraints

* 1 <= n <= 10<sup>6</sup>
1 <= limit <= 10<sup>6</sup>



### C++ 

```
class Solution {
protected:
    long long c2(long long n){
        return n > 1? n * (n - 1) / 2 : 0;
    }
public:
    long long distributeCandies(int n, int limit) {
        /*
            先求所有分法的總數，可以視為C(n + 2, 2)
            減去有一個超過限額，也就是C(n + 2 - (limit + 1), 2), 有三個人所以x 3但其會重覆計算有兩個超過限額的
            所以要加回來
            兩個超過限額的C(n + 2 - 2(limit + 1), 2)
            會重覆計算到三個人階大於limit，所以要減去三個人
            C(n + 2 - 3(limit + 1), 2)
        */

        return c2(n + 2) - 3 * c2(n - limit + 1) + 3 * c2(n - 2 * limit) - c2(n - 3 * limit - 1); 
    }
};
```